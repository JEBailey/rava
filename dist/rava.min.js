!function(){var e={},a={};Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector),"function"!=typeof NodeList.prototype.forEach&&"function"==typeof Array.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),e.decorate=function(e,t){a[e]=t,document.querySelectorAll(e).forEach(function(a){n(a,e)})},e.query=function(e,a){var t=[];return c(e,function(e){e.matches&&e.matches(a)&&t.push(e)}),t},new MutationObserver(function(e){e.forEach(function(e){t(e.addedNodes,o),t(e.removedNodes,r)})}).observe(document.body,{attributes:!1,childList:!0,subtree:!0,characterData:!1});var t=function(e,a){e.forEach(function(e){c(e,a)})},c=function(e,a){var t=new Set;t.add(e),t.forEach(function(e){a(e);var c=e.children;if(c)for(var o=0;o<c.length;o++)t.add(c[o]);t.delete(e)})},o=function(e){if(e.matches)for(var t in a)e.matches(t)&&n(e,t)},r=function(e){var a=e["x-rava"];a&&a.forEach(function(a){a.callbacks&&a.callbacks.removed&&a.callbacks.removed.call(e)})},n=function(e,t){var c=a[t],o=e["x-rava"];(o||(o=new Set,e["x-rava"]=o),o.has(c))?c.callbacks&&c.callbacks.added&&c.callbacks.added.call(e):(o.add(c),Object.getOwnPropertyNames(c).forEach(function(a){"constructor"!==a&&("events"===a&&f(e,c,t),"methods"===a&&d(e,c[a]),"data"===a&&(e.data=c.data))}),c.callbacks&&(c.callbacks.created&&c.callbacks.created.call(e),c.callbacks.added&&c.callbacks.added.call(e)))},d=function(e,a){for(var t in a)e[t]=a[t].bind(e)},f=function(a,t,c){var o=t.events,r=t.data,n=t.target||a;for(var d in o){var f=o[d];if("object"!=typeof f)a.addEventListener(d,function(e){f.call(n,e,r)});else{var l=c+" "+d;(t={}).target=a,t.events=f,e.decorate(l,t)}}};"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&module.exports?module.exports={rava:e}:window.rava=e}();