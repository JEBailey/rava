!function(){var e={},a={};Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector),"function"!=typeof NodeList.prototype.forEach&&"function"==typeof Array.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),e.decorate=function(e,t){a[e]=t,document.querySelectorAll(e).forEach(function(e){r(e,t)})},e.query=function(e,a){var t=[];return c(e,function(e){e.matches&&e.matches(a)&&t.push(e)}),t},new MutationObserver(function(e){e.forEach(function(e){t(e.addedNodes,o),t(e.removedNodes,n)})}).observe(document.body,{attributes:!1,childList:!0,subtree:!0,characterData:!1});var t=function(e,a){e.forEach(function(e){c(e,a)})},c=function(e,a){var t=new Set;t.add(e),t.forEach(function(e){a(e);var c=e.children;if(c)for(var o=0;o<c.length;o++)t.add(c[o]);t.delete(e)})},o=function(e){if(e.matches)for(var t in a)e.matches(t)&&r(e,a[t])},n=function(e){var a=e["x-rava"];a&&a.forEach(function(a){a.callbacks&&a.callbacks.removed&&a.callbacks.removed.call(e)})},r=function(e,a){var t=e["x-rava"];if(t||(t=new Set,e["x-rava"]=t),t.has(a))a.callbacks&&a.callbacks.added&&a.callbacks.added.call(e);else{t.add(a);var c=Object.getOwnPropertyNames(a),o=a.data;c.forEach(function(t){"constructor"!==t&&("events"===t&&l(e,o,a[t]),"methods"===t&&f(e,a[t]),"data"===t&&(e.data=a.data))}),a.callbacks&&(a.callbacks.created&&a.callbacks.created.call(e),a.callbacks.added&&a.callbacks.added.call(e))}},d=function(e,a,t){return function(c){c.target.matches(a)&&e.call(this,c,t)}},f=function(e,a){for(var t in a)e[t]=a[t].bind(e)},l=function(e,a,t){for(var c in t){var o=t[c];if("object"!=typeof o)e.addEventListener(c,function(t){o.call(e,t,a)});else{var n=c;for(var r in o){var f=d(o[r],n,a);e.addEventListener(r,function(e,a,t){return function(c){e.call(a,c,t)}}(f,e,a))}}}};"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&module.exports?module.exports={rava:e}:window.rava=e}();