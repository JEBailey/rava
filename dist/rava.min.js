!function(){"use strict";var e={},a=new Map,t=Element.prototype.matches||Element.prototype.msMatchesSelector,n=NodeList.prototype.forEach||Array.prototype.forEach;e.bind=function(e,t){var c=a.get(e);c||(c=new Set,a.set(e,c)),c.add(t),n.call(document.querySelectorAll(e),function(a){d(a,e,t)})},e.find=function(e,a){return o(e,function(e){if(t.call(e,a))return e}),null},e.findAll=function(e,a){var n=[];return o(e,function(e){t.call(e,a)&&n.push(e)}),n},new MutationObserver(function(e){e.forEach(function(e){c(e.addedNodes,r),c(e.removedNodes,l)})}).observe(document.body,{attributes:!1,childList:!0,subtree:!0,characterData:!1});var c=function(e,a){n.call(e,function(e){e.nodeType==Node.ELEMENT_NODE&&o(e,a)})},o=function(e,a){var t=new Set;t.add(e),t.forEach(function(e){a(e);for(var n=0;n<e.children.length;n++)t.add(e.children[n]);t.delete(e)})},r=function(e){a.forEach(function(a,n){t.call(e,n)&&a.forEach(function(a){t.call(e,n)&&d(e,n,a)})})},l=function(e){e["x-rava"]&&e["x-rava"].forEach(function(a){a.callbacks&&a.callbacks.removed&&a.callbacks.removed.call(e)})},d=function(e,a,t){if(!t.scoped||t.target.contains(e)){var n=e["x-rava"];n||(n=new Set,e["x-rava"]=n),n.has(t)?t.callbacks&&t.callbacks.added&&t.callbacks.added.call(e):(n.add(t),Object.getOwnPropertyNames(t).forEach(function(n){"constructor"!==n&&("events"===n&&f(e,t,a),"methods"===n&&i(e,t[n]))}),t.callbacks&&(t.callbacks.created&&t.callbacks.created.call(e),t.callbacks.added&&t.callbacks.added.call(e)))}},i=function(e,a){for(var t in a)e[t]=a[t].bind(e)},f=function(a,t,n){var c=t.events,o=t.data,r=t.target||a;for(var l in c){var d=c[l];if("object"!=typeof d)a.addEventListener(l,s(d,r,o));else{var i={};i.scoped=l.trim().startsWith(":scope"),i.target=a,i.events=d,i.data=o;var f=l.replace(":scope",n).trim();e.bind(f,i)}}},s=function(e,a,t){return function(n){e.call(a,n,t)}};"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&module.exports?module.exports={rava:e}:window.rava=e}();