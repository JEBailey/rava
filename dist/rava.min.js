!function(){"use strict";var t={},e=new Map,n=Element.prototype.matches||Element.prototype.msMatchesSelector,a=NodeList.prototype.forEach||Array.prototype.forEach,r=String.prototype.startsWith||function(t,e){return e=e||0,this.substr(e,t.length)===t};t.bind=function(t,n){var r=e.get(t);r||(r=new Set,e.set(t,r)),r.add(n),a.call(document.querySelectorAll(t),function(e){d(e,t,n)})},t.find=function(t,e){return o(t,function(t){if(n.call(t,e))return t}),null},t.findAll=function(t,e){var a=[];return o(t,function(t){n.call(t,e)&&a.push(t)}),a},new MutationObserver(function(t){t.forEach(function(t){c(t.addedNodes,i),c(t.removedNodes,l)})}).observe(document.body,{attributes:!1,childList:!0,subtree:!0,characterData:!1});var c=function(t,e){a.call(t,function(t){t.nodeType==Node.ELEMENT_NODE&&o(t,e)})},o=function(t,e){var n=new Set;n.add(t),n.forEach(function(t){e(t);for(var a=0;a<t.children.length;a++)n.add(t.children[a]);n.delete(t)})},i=function(t){e.forEach(function(e,a){n.call(t,a)&&e.forEach(function(e){n.call(t,a)&&d(t,a,e)})})},l=function(t){t["x-rava"]&&t["x-rava"].forEach(function(e){v(t,"removed",e)})},d=function(t,e,n){if(!n.scoped||n.target.contains(t)){var a=n.data||{},r=t["x-rava"];r||(r=new Set,t["x-rava"]=r),r.has(n)?v(t,"added",n,a):(r.add(n),"function"==typeof a&&(a=a.call(t)),Object.getOwnPropertyNames(n).forEach(function(r){"events"===r&&u(t,n,e,a),"methods"===r&&f(t,n[r]),"callbacks"===r&&s(t,n,e,a)}),n.callbacks&&(v(t,"created",n,a),v(t,"added",n,a)))}},f=function(t,e){for(var n in e)t[n]=e[n].bind(t)},u=function(e,n,a,c){var o=n.events,i=n.target||e;for(var l in o){var d=o[l];if("function"==typeof d)e.addEventListener(l,p(d,i,c));else{var f={};f.scoped=r.call(l.trim(),":scope"),f.target=e,f.events=d,f.data=c;var u=l.replace(":scope",a).trim();t.bind(u,f)}}},s=function(e,n,a,c){var o=n.callbacks;for(var i in o){var l=o[i];if("object"==typeof l){var d={};d.scoped=r.call(i.trim(),":scope"),d.target=n.target||e,d.callbacks=l,d.data=c;var f=i.replace(":scope",a).trim();t.bind(f,d)}}},v=function(t,e,n,a){n.callbacks&&n.callbacks[e]&&n.callbacks[e].call(n.target||t,a,t)},p=function(t,e,n){return function(a){t.call(e,a,n)}};"function"==typeof define&&define.amd?define(t):"undefined"!=typeof module&&module.exports?module.exports={rava:t}:window.rava=t}();